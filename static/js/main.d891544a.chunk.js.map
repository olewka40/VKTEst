{"version":3,"sources":["context/UserContext.js","panels/Home.js","constants/config.js","panels/Shop.js","App.js","index.js"],"names":["UserContext","React","createContext","Home","id","go","useContext","fetchedUser","setMoney","money","title","before","photo_200","src","description","city","first_name","last_name","StyledButton","size","level","onClick","data-to","styled","Button","shoppingList","name","cost","perSecond","image","osName","platform","Shop","props","console","log","left","IOS","ShopList","map","item","StyledCard","key","mode","Title","Name","Cost","Info","PerSecond","Img","width","div","img","Card","App","useState","activePanel","setActivePanel","setUser","popout","setPopout","useEffect","a","bridge","send","user","subscribe","detail","type","data","schemeAttribute","document","createAttribute","value","scheme","body","attributes","setNamedItem","fetchData","e","currentTarget","dataset","to","Provider","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.d891544a.chunk.js","sourcesContent":["import React from \"react\";\r\n\r\nexport const UserContext = React.createContext({});\r\n","import React, { useContext } from \"react\";\nimport PropTypes from \"prop-types\";\nimport Panel from \"@vkontakte/vkui/dist/components/Panel/Panel\";\nimport PanelHeader from \"@vkontakte/vkui/dist/components/PanelHeader/PanelHeader\";\nimport Button from \"@vkontakte/vkui/dist/components/Button/Button\";\nimport Group from \"@vkontakte/vkui/dist/components/Group/Group\";\nimport Cell from \"@vkontakte/vkui/dist/components/Cell/Cell\";\nimport Avatar from \"@vkontakte/vkui/dist/components/Avatar/Avatar\";\nimport { UserContext } from \"../context/UserContext\";\nimport styled from \"styled-components\";\n\nconst Home = ({ id, go }) => {\n  const { fetchedUser, setMoney, money } = useContext(UserContext);\n  const takeMoney = () => {\n    setMoney(money + 1);\n  };\n  return (\n    <Panel id={id}>\n      <PanelHeader>Добро wfwfwffпожwfwfаловать</PanelHeader>\n      {fetchedUser && (\n        <Group title=\"User Data Fetched with VK Bridge\">\n          <Cell\n            before={\n              fetchedUser.photo_200 ? (\n                <Avatar src={fetchedUser.photo_200} />\n              ) : null\n            }\n            description={\n              fetchedUser.city && fetchedUser.city.title\n                ? fetchedUser.city.title\n                : \"\"\n            }\n          >\n            {`${fetchedUser.first_name} ${fetchedUser.last_name} `}\n          </Cell>\n        </Group>\n      )}\n      <Cell>Баланс: {money}</Cell>\n      <Group title=\"Navigation Example\">\n        <StyledButton size=\"xl\" level=\"2\" onClick={go} data-to=\"shop\">\n          В магазин\n        </StyledButton>\n        <StyledButton size=\"xl\" level=\"2\" onClick={takeMoney}>\n          Фарм\n        </StyledButton>\n      </Group>\n    </Panel>\n  );\n};\n\nHome.propTypes = {\n  id: PropTypes.string.isRequired,\n  go: PropTypes.func.isRequired,\n  fetchedUser: PropTypes.shape({\n    photo_200: PropTypes.string,\n    first_name: PropTypes.string,\n    last_name: PropTypes.string,\n    city: PropTypes.shape({\n      title: PropTypes.string,\n    }),\n  }),\n};\n\nexport default Home;\n\nexport const StyledButton = styled(Button)`\n  .Button {\n    margin-top: 10px;\n  }\n  .Button--ios {\n    margin-top: 10px;\n  }\n`;\n","export const shoppingList = [\r\n  {\r\n    id: 0,\r\n    name: \"FirstItem\",\r\n    cost: 3,\r\n    perSecond: 30,\r\n    image:\r\n      \"https://sun1-94.userapi.com/impf/c847220/v847220686/12735f/SpLIwTtqtaM.jpg?size=50x0&quality=88&crop=863,8,1688,1688&sign=bf0663815e9b68fd2b32f01938f3a2d2&ava=1\",\r\n  },\r\n  {\r\n    id: 1,\r\n    name: \"SecondItem\",\r\n    cost: 30,\r\n    perSecond: 300,\r\n    image:\r\n      \"https://sun9-26.userapi.com/c837631/v837631193/4c59e/6sEUGTfmNR4.jpg\",\r\n  },\r\n];\r\nexport const config = [\r\n  {\r\n    id: 0,\r\n    name: \"FirstItem\",\r\n    count: 3,\r\n  },\r\n];\r\n","import React from \"react\";\r\nimport PanelHeader from \"@vkontakte/vkui/dist/components/PanelHeader/PanelHeader\";\r\nimport PanelHeaderButton from \"@vkontakte/vkui/dist/components/PanelHeaderButton/PanelHeaderButton\";\r\nimport { Card, IOS, platform } from \"@vkontakte/vkui\";\r\nimport Icon28ChevronBack from \"@vkontakte/icons/dist/28/chevron_back\";\r\nimport Icon24Back from \"@vkontakte/icons/dist/24/back\";\r\nimport Panel from \"@vkontakte/vkui/dist/components/Panel/Panel\";\r\nimport styled from \"styled-components\";\r\nimport { shoppingList } from \"../constants/config\";\r\n\r\nconst osName = platform();\r\n\r\nexport const Shop = (props) => {\r\n  console.log(shoppingList);\r\n  return (\r\n    <Panel id={props.id}>\r\n      <PanelHeader\r\n        left={\r\n          <PanelHeaderButton onClick={props.go} data-to=\"home\">\r\n            {osName === IOS ? <Icon28ChevronBack /> : <Icon24Back />}\r\n          </PanelHeaderButton>\r\n        }\r\n      >\r\n        Магазин{\" \"}\r\n      </PanelHeader>\r\n      <ShopList>\r\n        {shoppingList.map((item) => (\r\n          <StyledCard key={item.id} size=\"l\" mode=\"outline\">\r\n            <Title>\r\n              <Name> {item.name}</Name>\r\n              <Cost>Цена:{item.cost}</Cost>\r\n            </Title>\r\n            <Info>\r\n              <PerSecond>Количество в секунду:{item.perSecond}</PerSecond>\r\n              <Img\r\n                src=\"https://storage.nana-music.com/picture/807115-2dfac04c-c18f-46bb-a162-6f09009c2e6a-large.png\"\r\n                width=\"100px\"\r\n              />\r\n            </Info>\r\n          </StyledCard>\r\n        ))}\r\n      </ShopList>\r\n    </Panel>\r\n  );\r\n};\r\n\r\nconst ShopList = styled.div`\r\n  display: flex;\r\n  flex-direction: row;\r\n  align-items: center;\r\n`;\r\nconst Img = styled.img`\r\n  border-radius: 50px;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n`;\r\nconst StyledCard = styled(Card)`\r\n  display: flex;\r\n  flex-direction: row;\r\n  align-items: center;\r\n  justify-content: center;\r\n  padding: 20px;\r\n`;\r\nconst Title = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  font-size: 18px;\r\n`;\r\nconst Name = styled.div`\r\n  font-weight: bold;\r\n`;\r\nconst Info = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  width: 100%;\r\n  height: 100%;\r\n  align-items: center;\r\n`;\r\nconst Cost = styled.div``;\r\nconst PerSecond = styled.div`\r\n  color: #4bb34b;\r\n  font-weight: bolder;\r\n`;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport bridge from \"@vkontakte/vk-bridge\";\r\nimport View from \"@vkontakte/vkui/dist/components/View/View\";\r\nimport ScreenSpinner from \"@vkontakte/vkui/dist/components/ScreenSpinner/ScreenSpinner\";\r\nimport \"@vkontakte/vkui/dist/vkui.css\";\r\n\r\nimport Home from \"./panels/Home\";\r\nimport { UserContext } from \"./context/UserContext\";\r\nimport { Shop } from \"./panels/Shop\";\r\n\r\nconst App = () => {\r\n  const [activePanel, setActivePanel] = useState(\"home\");\r\n  const [fetchedUser, setUser] = useState(null);\r\n  const [popout, setPopout] = useState(<ScreenSpinner size=\"large\" />);\r\n  const [money, setMoney] = useState(0);\r\n\r\n  useEffect(() => {\r\n    bridge.subscribe(({ detail: { type, data } }) => {\r\n      if (type === \"VKWebAppUpdateConfig\") {\r\n        const schemeAttribute = document.createAttribute(\"scheme\");\r\n        schemeAttribute.value = data.scheme ? data.scheme : \"client_light\";\r\n        document.body.attributes.setNamedItem(schemeAttribute);\r\n      }\r\n    });\r\n    async function fetchData() {\r\n      const user = await bridge.send(\"VKWebAppGetUserInfo\");\r\n      setUser(user);\r\n      setPopout(null);\r\n    }\r\n    fetchData();\r\n  }, []);\r\n\r\n  const go = (e) => {\r\n    setActivePanel(e.currentTarget.dataset.to);\r\n  };\r\n\r\n  return (\r\n    <UserContext.Provider value={{ money, fetchedUser, setMoney }}>\r\n      <View activePanel={activePanel} popout={popout}>\r\n        <Home id=\"home\" fetchedUser={fetchedUser} go={go} />\r\n        <Shop id=\"shop\" go={go} />\r\n      </View>\r\n    </UserContext.Provider>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","import \"core-js/features/map\";\r\nimport \"core-js/features/set\";\r\nimport React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport bridge from \"@vkontakte/vk-bridge\";\r\nimport App from \"./App\";\r\n\r\n// Init VK  Mini App\r\nbridge.send(\"VKWebAppInit\");\r\n\r\nReactDOM.render(<App />, document.getElementById(\"root\"));\r\nif (process.env.NODE_ENV === \"development\") {\r\n  import(\"./eruda\").then(({ default: eruda }) => {}); //runtime download\r\n}\r\n"],"sourceRoot":""}