{"version":3,"sources":["panels/Home.js","context/UserContext.js","constants/config.js","panels/Shop.js","App.js","index.js"],"names":["Home","id","go","fetchedUser","title","before","photo_200","src","description","city","first_name","last_name","size","level","onClick","data-to","UserContext","React","createContext","shoppingList","name","cost","perSecond","image","osName","platform","Shop","props","console","log","left","IOS","ShopList","map","item","StyledCard","key","mode","Title","Name","Cost","Info","PerSecond","Img","width","styled","div","img","Card","App","useState","activePanel","setActivePanel","setUser","popout","setPopout","money","setMoney","useEffect","a","bridge","send","user","subscribe","detail","type","data","schemeAttribute","document","createAttribute","value","scheme","body","attributes","setNamedItem","fetchData","e","currentTarget","dataset","to","Provider","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.0da2e4e0.chunk.js","sourcesContent":["import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport Panel from \"@vkontakte/vkui/dist/components/Panel/Panel\";\r\nimport PanelHeader from \"@vkontakte/vkui/dist/components/PanelHeader/PanelHeader\";\r\nimport Button from \"@vkontakte/vkui/dist/components/Button/Button\";\r\nimport Group from \"@vkontakte/vkui/dist/components/Group/Group\";\r\nimport Cell from \"@vkontakte/vkui/dist/components/Cell/Cell\";\r\nimport Div from \"@vkontakte/vkui/dist/components/Div/Div\";\r\nimport Avatar from \"@vkontakte/vkui/dist/components/Avatar/Avatar\";\r\n\r\nconst Home = ({ id, go, fetchedUser }) => (\r\n  <Panel id={id}>\r\n    <PanelHeader>Example</PanelHeader>\r\n    {fetchedUser && (\r\n      <Group title=\"User Data Fetched with VK Bridge\">\r\n        <Cell\r\n          before={\r\n            fetchedUser.photo_200 ? (\r\n              <Avatar src={fetchedUser.photo_200} />\r\n            ) : null\r\n          }\r\n          description={\r\n            fetchedUser.city && fetchedUser.city.title\r\n              ? fetchedUser.city.title\r\n              : \"\"\r\n          }\r\n        >\r\n          {`${fetchedUser.first_name} ${fetchedUser.last_name}`}\r\n        </Cell>\r\n      </Group>\r\n    )}\r\n\r\n    <Group title=\"Navigation Example\">\r\n      <Div>\r\n        <Button size=\"xl\" level=\"2\" onClick={go} data-to=\"persik\">\r\n          Машенька привет\r\n        </Button>\r\n      </Div>\r\n    </Group>\r\n  </Panel>\r\n);\r\n\r\nHome.propTypes = {\r\n  id: PropTypes.string.isRequired,\r\n  go: PropTypes.func.isRequired,\r\n  fetchedUser: PropTypes.shape({\r\n    photo_200: PropTypes.string,\r\n    first_name: PropTypes.string,\r\n    last_name: PropTypes.string,\r\n    city: PropTypes.shape({\r\n      title: PropTypes.string,\r\n    }),\r\n  }),\r\n};\r\n\r\nexport default Home;\r\n","import React from \"react\";\r\n\r\nexport const UserContext = React.createContext({});\r\n","export const shoppingList = [\r\n  {\r\n    id: 0,\r\n    name: \"FirstItem\",\r\n    cost: 3,\r\n    perSecond: 30,\r\n    image:\r\n      \"https://sun1-94.userapi.com/impf/c847220/v847220686/12735f/SpLIwTtqtaM.jpg?size=50x0&quality=88&crop=863,8,1688,1688&sign=bf0663815e9b68fd2b32f01938f3a2d2&ava=1\",\r\n  },\r\n  {\r\n    id: 1,\r\n    name: \"SecondItem\",\r\n    cost: 30,\r\n    perSecond: 300,\r\n    image:\r\n      \"https://sun9-26.userapi.com/c837631/v837631193/4c59e/6sEUGTfmNR4.jpg\",\r\n  },\r\n];\r\nexport const config = [\r\n  {\r\n    id: 0,\r\n    name: \"FirstItem\",\r\n    count: 3,\r\n  },\r\n];\r\n","import React from \"react\";\nimport { UserContext } from \"../context/UserContext\";\nimport PanelHeader from \"@vkontakte/vkui/dist/components/PanelHeader/PanelHeader\";\nimport PanelHeaderButton from \"@vkontakte/vkui/dist/components/PanelHeaderButton/PanelHeaderButton\";\nimport { Card, IOS, platform } from \"@vkontakte/vkui\";\nimport Icon28ChevronBack from \"@vkontakte/icons/dist/28/chevron_back\";\nimport Icon24Back from \"@vkontakte/icons/dist/24/back\";\nimport Panel from \"@vkontakte/vkui/dist/components/Panel/Panel\";\nimport styled from \"styled-components\";\nimport { shoppingList } from \"../constants/config\";\n\nconst osName = platform();\n\nexport const Shop = (props) => {\n  console.log(shoppingList);\n  return (\n    <Panel id={props.id}>\n      <PanelHeader\n        left={\n          <PanelHeaderButton onClick={props.go} data-to=\"home\">\n            {osName === IOS ? <Icon28ChevronBack /> : <Icon24Back />}\n          </PanelHeaderButton>\n        }\n      >\n        Магазин{\" \"}\n      </PanelHeader>\n      <ShopList>\n        {shoppingList.map((item) => (\n          <StyledCard key={item.id} size=\"l\" mode=\"outline\">\n            <Title>\n              <Name> {item.name}</Name>\n              <Cost>Цена:{item.cost}</Cost>\n            </Title>\n            <Info>\n              <PerSecond>Количество в секунду:{item.perSecond}</PerSecond>\n              <Img\n                src=\"https://storage.nana-music.com/picture/807115-2dfac04c-c18f-46bb-a162-6f09009c2e6a-large.png\"\n                width=\"100px\"\n              />\n            </Info>\n          </StyledCard>\n        ))}\n      </ShopList>\n    </Panel>\n  );\n};\n\nconst ShopList = styled.div`\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n`;\nconst Img = styled.img`\n  border-radius: 50px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n`;\nconst StyledCard = styled(Card)`\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  justify-content: center;\n  padding: 20px;\n`;\nconst Title = styled.div`\n  display: flex;\n  flex-direction: column;\n  font-size: 18px;\n`;\nconst Name = styled.div`\n  font-weight: bold;\n`;\nconst Info = styled.div`\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n  height: 100%;\n  align-items: center;\n`;\nconst Cost = styled.div``;\nconst PerSecond = styled.div`\n  color: #4bb34b;\n  font-weight: bolder;\n`;\n","import React, { useState, useEffect } from \"react\";\r\nimport bridge from \"@vkontakte/vk-bridge\";\r\nimport View from \"@vkontakte/vkui/dist/components/View/View\";\r\nimport ScreenSpinner from \"@vkontakte/vkui/dist/components/ScreenSpinner/ScreenSpinner\";\r\nimport \"@vkontakte/vkui/dist/vkui.css\";\r\n\r\nimport Home from \"./panels/Home\";\r\nimport { UserContext } from \"./context/UserContext\";\r\nimport { Shop } from \"./panels/Shop\";\r\n\r\nconst App = () => {\r\n  const [activePanel, setActivePanel] = useState(\"home\");\r\n  const [fetchedUser, setUser] = useState(null);\r\n  const [popout, setPopout] = useState(<ScreenSpinner size=\"large\" />);\r\n  const [money, setMoney] = useState(0);\r\n\r\n  useEffect(() => {\r\n    bridge.subscribe(({ detail: { type, data } }) => {\r\n      if (type === \"VKWebAppUpdateConfig\") {\r\n        const schemeAttribute = document.createAttribute(\"scheme\");\r\n        schemeAttribute.value = data.scheme ? data.scheme : \"client_light\";\r\n        document.body.attributes.setNamedItem(schemeAttribute);\r\n      }\r\n    });\r\n    async function fetchData() {\r\n      const user = await bridge.send(\"VKWebAppGetUserInfo\");\r\n      setUser(user);\r\n      setPopout(null);\r\n    }\r\n    fetchData();\r\n  }, []);\r\n\r\n  const go = (e) => {\r\n    setActivePanel(e.currentTarget.dataset.to);\r\n  };\r\n\r\n  return (\r\n    <UserContext.Provider value={{ money, fetchedUser, setMoney }}>\r\n      <View activePanel={activePanel} popout={popout}>\r\n        <Home id=\"home\" fetchedUser={fetchedUser} go={go} />\r\n        <Shop id=\"shop\" go={go} />\r\n      </View>\r\n    </UserContext.Provider>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","import \"core-js/features/map\";\nimport \"core-js/features/set\";\nimport React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport bridge from \"@vkontakte/vk-bridge\";\nimport App from \"./App\";\n\n// Init VK  Mini App\nbridge.send(\"VKWebAppInit\");\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\nif (process.env.NODE_ENV === \"development\") {\n  import(\"./eruda\").then(({ default: eruda }) => {}); //runtime download\n}\n"],"sourceRoot":""}