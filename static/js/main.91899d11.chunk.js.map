{"version":3,"sources":["context/UserContext.js","panels/Home.js","constants/config.js","panels/Shop.js","App.js","index.js"],"names":["UserContext","React","createContext","Home","id","go","useContext","fetchedUser","setMoney","money","title","before","photo_200","src","description","city","first_name","last_name","StyledButton","size","level","onClick","data-to","styled","Button","shoppingList","name","cost","perSecond","image","osName","platform","Shop","props","console","log","left","IOS","ShopList","map","item","StyledCard","key","mode","Title","Name","Cost","Info","PerSecond","Img","width","div","img","Card","App","useState","activePanel","setActivePanel","setUser","popout","setPopout","useEffect","a","bridge","send","user","subscribe","detail","type","data","schemeAttribute","document","createAttribute","value","scheme","body","attributes","setNamedItem","fetchData","e","currentTarget","dataset","to","Provider","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.91899d11.chunk.js","sourcesContent":["import React from \"react\";\n\nexport const UserContext = React.createContext({});\n","import React, { useContext } from \"react\";\nimport PropTypes from \"prop-types\";\nimport Panel from \"@vkontakte/vkui/dist/components/Panel/Panel\";\nimport PanelHeader from \"@vkontakte/vkui/dist/components/PanelHeader/PanelHeader\";\nimport Button from \"@vkontakte/vkui/dist/components/Button/Button\";\nimport Group from \"@vkontakte/vkui/dist/components/Group/Group\";\nimport Cell from \"@vkontakte/vkui/dist/components/Cell/Cell\";\nimport Avatar from \"@vkontakte/vkui/dist/components/Avatar/Avatar\";\nimport { UserContext } from \"../context/UserContext\";\nimport styled from \"styled-components\";\n\nconst Home = ({ id, go }) => {\n  const { fetchedUser, setMoney, money } = useContext(UserContext);\n  const takeMoney = () => {\n    setMoney(money + 1);\n  };\n  return (\n    <Panel id={id}>\n      <PanelHeader>Добро пожаловать</PanelHeader>\n      {fetchedUser && (\n        <Group title=\"User Data Fetched with VK Bridge\">\n          <Cell\n            before={\n              fetchedUser.photo_200 ? (\n                <Avatar src={fetchedUser.photo_200} />\n              ) : null\n            }\n            description={\n              fetchedUser.city && fetchedUser.city.title\n                ? fetchedUser.city.title\n                : \"\"\n            }\n          >\n            {`${fetchedUser.first_name} ${fetchedUser.last_name} `}\n          </Cell>\n        </Group>\n      )}\n      <Cell>Баланс: {money}</Cell>\n      <Group title=\"Navigation Example\">\n        <StyledButton size=\"xl\" level=\"2\" onClick={go} data-to=\"shop\">\n          В магазин\n        </StyledButton>\n        <StyledButton size=\"xl\" level=\"2\" onClick={takeMoney}>\n          Фарм\n        </StyledButton>\n      </Group>\n    </Panel>\n  );\n};\n\nHome.propTypes = {\n  id: PropTypes.string.isRequired,\n  go: PropTypes.func.isRequired,\n  fetchedUser: PropTypes.shape({\n    photo_200: PropTypes.string,\n    first_name: PropTypes.string,\n    last_name: PropTypes.string,\n    city: PropTypes.shape({\n      title: PropTypes.string,\n    }),\n  }),\n};\n\nexport default Home;\n\nexport const StyledButton = styled(Button)`\n  .Button {\n    margin-top: 10px;\n  }\n  .Button--ios {\n    margin-top: 10px;\n  }\n`;\n","export const shoppingList = [\n  {\n    id: 0,\n    name: \"FirstItem\",\n    cost: 3,\n    perSecond: 30,\n    image:\n      \"https://sun1-94.userapi.com/impf/c847220/v847220686/12735f/SpLIwTtqtaM.jpg?size=50x0&quality=88&crop=863,8,1688,1688&sign=bf0663815e9b68fd2b32f01938f3a2d2&ava=1\",\n  },\n  {\n    id: 1,\n    name: \"SecondItem\",\n    cost: 30,\n    perSecond: 300,\n    image:\n      \"https://sun9-26.userapi.com/c837631/v837631193/4c59e/6sEUGTfmNR4.jpg\",\n  },\n];\nexport const config = [\n  {\n    id: 0,\n    name: \"FirstItem\",\n    count: 3,\n  },\n];\n","import React from \"react\";\nimport { UserContext } from \"../context/UserContext\";\nimport PanelHeader from \"@vkontakte/vkui/dist/components/PanelHeader/PanelHeader\";\nimport PanelHeaderButton from \"@vkontakte/vkui/dist/components/PanelHeaderButton/PanelHeaderButton\";\nimport { Card, IOS, platform } from \"@vkontakte/vkui\";\nimport Icon28ChevronBack from \"@vkontakte/icons/dist/28/chevron_back\";\nimport Icon24Back from \"@vkontakte/icons/dist/24/back\";\nimport Panel from \"@vkontakte/vkui/dist/components/Panel/Panel\";\nimport styled from \"styled-components\";\nimport { shoppingList } from \"../constants/config\";\n\nconst osName = platform();\n\nexport const Shop = (props) => {\n  console.log(shoppingList);\n  return (\n    <Panel id={props.id}>\n      <PanelHeader\n        left={\n          <PanelHeaderButton onClick={props.go} data-to=\"home\">\n            {osName === IOS ? <Icon28ChevronBack /> : <Icon24Back />}\n          </PanelHeaderButton>\n        }\n      >\n        Магазин{\" \"}\n      </PanelHeader>\n      <ShopList>\n        {shoppingList.map((item) => (\n          <StyledCard key={item.id} size=\"l\" mode=\"outline\">\n            <Title>\n              <Name> {item.name}</Name>\n              <Cost>Цена:{item.cost}</Cost>\n            </Title>\n            <Info>\n              <PerSecond>Количество в секунду:{item.perSecond}</PerSecond>\n              <Img\n                src=\"https://storage.nana-music.com/picture/807115-2dfac04c-c18f-46bb-a162-6f09009c2e6a-large.png\"\n                width=\"100px\"\n              />\n            </Info>\n          </StyledCard>\n        ))}\n      </ShopList>\n    </Panel>\n  );\n};\n\nconst ShopList = styled.div`\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n`;\nconst Img = styled.img`\n  border-radius: 50px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n`;\nconst StyledCard = styled(Card)`\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  justify-content: center;\n  padding: 20px;\n`;\nconst Title = styled.div`\n  display: flex;\n  flex-direction: column;\n  font-size: 18px;\n`;\nconst Name = styled.div`\n  font-weight: bold;\n`;\nconst Info = styled.div`\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n  height: 100%;\n  align-items: center;\n`;\nconst Cost = styled.div``;\nconst PerSecond = styled.div`\n  color: #4bb34b;\n  font-weight: bolder;\n`;\n","import React, { useState, useEffect } from \"react\";\nimport bridge from \"@vkontakte/vk-bridge\";\nimport View from \"@vkontakte/vkui/dist/components/View/View\";\nimport ScreenSpinner from \"@vkontakte/vkui/dist/components/ScreenSpinner/ScreenSpinner\";\nimport \"@vkontakte/vkui/dist/vkui.css\";\n\nimport Home from \"./panels/Home\";\nimport { UserContext } from \"./context/UserContext\";\nimport { Shop } from \"./panels/Shop\";\n\nconst App = () => {\n  const [activePanel, setActivePanel] = useState(\"home\");\n  const [fetchedUser, setUser] = useState(null);\n  const [popout, setPopout] = useState(<ScreenSpinner size=\"large\" />);\n  const [money, setMoney] = useState(0);\n\n  useEffect(() => {\n    bridge.subscribe(({ detail: { type, data } }) => {\n      if (type === \"VKWebAppUpdateConfig\") {\n        const schemeAttribute = document.createAttribute(\"scheme\");\n        schemeAttribute.value = data.scheme ? data.scheme : \"client_light\";\n        document.body.attributes.setNamedItem(schemeAttribute);\n      }\n    });\n    async function fetchData() {\n      const user = await bridge.send(\"VKWebAppGetUserInfo\");\n      setUser(user);\n      setPopout(null);\n    }\n    fetchData();\n  }, []);\n\n  const go = (e) => {\n    setActivePanel(e.currentTarget.dataset.to);\n  };\n\n  return (\n    <UserContext.Provider value={{ money, fetchedUser, setMoney }}>\n      <View activePanel={activePanel} popout={popout}>\n        <Home id=\"home\" fetchedUser={fetchedUser} go={go} />\n        <Shop id=\"shop\" go={go} />\n      </View>\n    </UserContext.Provider>\n  );\n};\n\nexport default App;\n","import \"core-js/features/map\";\nimport \"core-js/features/set\";\nimport React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport bridge from \"@vkontakte/vk-bridge\";\nimport App from \"./App\";\n\n// Init VK  Mini App\nbridge.send(\"VKWebAppInit\");\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\nif (process.env.NODE_ENV === \"development\") {\n  import(\"./eruda\").then(({ default: eruda }) => {}); //runtime download\n}\n"],"sourceRoot":""}