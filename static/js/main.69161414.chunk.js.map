{"version":3,"sources":["constants/config.js","context/UserContext.js","panels/Home.js","panels/Transport Variant/Country.js","panels/Transport Variant/Routes/Stops/StopsList.js","panels/Transport Variant/Routes/RoutesList.js","App.js","index.js"],"names":["transport","id","name","enName","variants","routes","halt","time","UserContext","React","createContext","osName","platform","Home","go","fetchedUser","transportVar","useContext","left","onClick","data-to","IOS","title","before","photo_200","src","description","city","first_name","last_name","map","variant","StyledButton","size","level","styled","Button","Country","console","log","el","StopsList","RoutesList","App","useState","activePanel","setActivePanel","setUser","popout","setPopout","route","setRoute","stops","setStops","setTransportVar","useEffect","a","bridge","send","user","subscribe","detail","type","data","schemeAttribute","document","createAttribute","value","scheme","body","attributes","setNamedItem","fetchData","e","currentTarget","dataset","to","Provider","transportvar","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.69161414.chunk.js","sourcesContent":["export const transport = [\n  {\n    id: \"0\",\n    name: \"Междугородний транспорт\",\n    enName: \"BetweenCountry\",\n    variants: [\n      {\n        id: \"0\",\n        name: \"Калуга-Товарково\",\n        routes: [\n          {\n            id: 0,\n            name: \"5:17\",\n            halt: [\n              {\n                id: \"0\",\n                name: \"Калуга,автовокзал\",\n                time: \"5-17\",\n              },\n              {\n                id: \"1\",\n                name: \"Калуга, 6 школа\",\n                time: \"5-28\",\n              },\n              {\n                id: \"2\",\n                name: '\"Калуга-Бор\", санаторий',\n                time: \"5-30\",\n              },\n            ],\n          },\n          {\n            id: 1,\n            name: \"5:20\",\n            halt: [\n              {\n                id: \"0\",\n                name: \"Калуга,автовокзал\",\n                time: \"5-30\",\n              },\n              {\n                id: \"1\",\n                name: \"Калуга, 6 школа\",\n                time: \"5-33\",\n              },\n              {\n                id: \"2\",\n                name: '\"Лесная Сказка\", санаторий',\n                time: \"5-35\",\n              },\n              {\n                id: \"2\",\n                name: '\"Сокол\", санаторий',\n                time: \"5-36\",\n              },\n            ],\n          },\n        ],\n      },\n    ],\n  },\n  {\n    id: \"1\",\n    name: \"Городской транспорт\",\n    enName: \"Country\",\n    variants: [\n      {\n        id: \"0\",\n        name: \"29\",\n        routes: [\n          {\n            id: 0,\n            name: \"5:17\",\n            halt: [\n              {\n                id: \"0\",\n                name: \"Калуга,автовокзал\",\n                time: \"5-17\",\n              },\n              {\n                id: \"1\",\n                name: \"Калуга, 6 школа\",\n                time: \"5-28\",\n              },\n              {\n                id: \"2\",\n                name: \"Кошелев проект\",\n                time: \"6-00\",\n              },\n            ],\n          },\n        ],\n      },\n    ],\n  },\n];\n","import React from \"react\";\r\n\r\nexport const UserContext = React.createContext({});\r\n","import React, { useContext } from \"react\";\nimport PropTypes from \"prop-types\";\nimport Panel from \"@vkontakte/vkui/dist/components/Panel/Panel\";\nimport PanelHeader from \"@vkontakte/vkui/dist/components/PanelHeader/PanelHeader\";\nimport Button from \"@vkontakte/vkui/dist/components/Button/Button\";\nimport Group from \"@vkontakte/vkui/dist/components/Group/Group\";\nimport Cell from \"@vkontakte/vkui/dist/components/Cell/Cell\";\nimport Avatar from \"@vkontakte/vkui/dist/components/Avatar/Avatar\";\nimport { UserContext } from \"../context/UserContext\";\nimport styled from \"styled-components\";\nimport PanelHeaderButton from \"@vkontakte/vkui/dist/components/PanelHeaderButton/PanelHeaderButton\";\nimport Icon28ChevronBack from \"@vkontakte/icons/dist/28/chevron_back\";\nimport Icon24Back from \"@vkontakte/icons/dist/24/back\";\nimport { IOS, platform } from \"@vkontakte/vkui\";\nimport { transport } from \"../constants/config\";\n\nconst osName = platform();\n\nconst Home = ({ id, go, transportVar }) => {\n  const { fetchedUser } = useContext(UserContext);\n\n  return (\n    <Panel id={id}>\n      <PanelHeader\n        left={\n          <PanelHeaderButton onClick={go} data-to=\"home\">\n            {osName === IOS ? <Icon28ChevronBack /> : <Icon24Back />}\n          </PanelHeaderButton>\n        }\n      >\n        Мониторинг транспорта\n      </PanelHeader>\n      {fetchedUser && (\n        <Group title=\"User Data Fetched with VK Bridge\">\n          <Cell\n            before={\n              fetchedUser.photo_200 ? (\n                <Avatar src={fetchedUser.photo_200} />\n              ) : null\n            }\n            description={\n              fetchedUser.city && fetchedUser.city.title\n                ? fetchedUser.city.title\n                : \"\"\n            }\n          >\n            {`${fetchedUser.first_name} ${fetchedUser.last_name} `}\n          </Cell>\n        </Group>\n      )}\n      <Group title=\"Navigation Example\">\n        {transport.map((variant) => (\n          <StyledButton\n            size=\"xl\"\n            level=\"2\"\n            onClick={go}\n            data-to={variant.enName}\n          >\n            {variant.name}\n          </StyledButton>\n        ))}\n      </Group>\n    </Panel>\n  );\n};\n\nHome.propTypes = {\n  id: PropTypes.string.isRequired,\n  go: PropTypes.func.isRequired,\n  fetchedUser: PropTypes.shape({\n    photo_200: PropTypes.string,\n    first_name: PropTypes.string,\n    last_name: PropTypes.string,\n    city: PropTypes.shape({\n      title: PropTypes.string,\n    }),\n  }),\n};\n\nexport default Home;\n\nexport const StyledButton = styled(Button)`\n  .Button {\n    margin-top: 10px;\n  }\n  margin: 5px 10px;\n  box-sizing: content-box;\n  width: 91.5%;\n  .Button--ios {\n    margin-top: 10px;\n  }\n`;\n","import Panel from \"@vkontakte/vkui/dist/components/Panel/Panel\";\nimport PanelHeader from \"@vkontakte/vkui/dist/components/PanelHeader/PanelHeader\";\nimport React from \"react\";\nimport PanelHeaderButton from \"@vkontakte/vkui/dist/components/PanelHeaderButton/PanelHeaderButton\";\nimport Icon24Back from \"@vkontakte/icons/dist/24/back\";\nimport Icon28ChevronBack from \"@vkontakte/icons/dist/28/chevron_back\";\nimport { IOS, platform } from \"@vkontakte/vkui\";\nimport { transport } from \"../../constants/config\";\nimport Button from \"@vkontakte/vkui/dist/components/Button/Button\";\n\nconst osName = platform();\n\nexport const Country = ({ id, go }) => {\n  console.log(go);\n  return (\n    <Panel id={id}>\n      <PanelHeader\n        left={\n          <PanelHeaderButton onClick={go} data-to=\"home\">\n            {osName === IOS ? <Icon28ChevronBack /> : <Icon24Back />}\n          </PanelHeaderButton>\n        }\n      >\n        {\" \"}\n        Выберите маршрут городского транспорта\n      </PanelHeader>\n\n      {transport[1].variants.map((el) => (\n        <Button onClick={go} data-to=\"RoutesList\">\n          {el.name}\n        </Button>\n      ))}\n    </Panel>\n  );\n};\n","import Panel from \"@vkontakte/vkui/dist/components/Panel/Panel\";\nimport { PanelHeader } from \"@vkontakte/vkui\";\nimport React from \"react\";\n\nimport { IOS, platform } from \"@vkontakte/vkui\";\nimport PanelHeaderButton from \"@vkontakte/vkui/dist/components/PanelHeaderButton/PanelHeaderButton\";\nimport Icon28ChevronBack from \"@vkontakte/icons/dist/28/chevron_back\";\nimport Icon24Back from \"@vkontakte/icons/dist/24/back\";\n\nconst osName = platform();\n\nexport const StopsList = ({ id, go }) => {\n  return (\n    <Panel id={id}>\n      <PanelHeader\n        left={\n          <PanelHeaderButton onClick={go} data-to=\"home\">\n            {osName === IOS ? <Icon28ChevronBack /> : <Icon24Back />}\n          </PanelHeaderButton>\n        }\n      >\n        Маршрут выбранного рейса\n      </PanelHeader>\n      123123123123\n    </Panel>\n  );\n};\n","import Panel from \"@vkontakte/vkui/dist/components/Panel/Panel\";\nimport { PanelHeader } from \"@vkontakte/vkui\";\nimport React from \"react\";\n\nimport { IOS, platform } from \"@vkontakte/vkui\";\nimport PanelHeaderButton from \"@vkontakte/vkui/dist/components/PanelHeaderButton/PanelHeaderButton\";\nimport Icon28ChevronBack from \"@vkontakte/icons/dist/28/chevron_back\";\nimport Icon24Back from \"@vkontakte/icons/dist/24/back\";\nimport Button from \"@vkontakte/vkui/dist/components/Button/Button\";\n\nconst osName = platform();\n\nexport const RoutesList = ({ id, go }) => {\n  return (\n    <Panel id={id}>\n      <PanelHeader\n        left={\n          <PanelHeaderButton onClick={go} data-to=\"home\">\n            {osName === IOS ? <Icon28ChevronBack /> : <Icon24Back />}\n          </PanelHeaderButton>\n        }\n      >\n        Выберите время\n      </PanelHeader>\n\n      <Button onClick={go} data-to=\"StopsList\">\n        123qwfqwfqwf123\n      </Button>\n    </Panel>\n  );\n};\n","import React, { useState, useEffect } from \"react\";\nimport bridge from \"@vkontakte/vk-bridge\";\nimport View from \"@vkontakte/vkui/dist/components/View/View\";\nimport ScreenSpinner from \"@vkontakte/vkui/dist/components/ScreenSpinner/ScreenSpinner\";\nimport \"@vkontakte/vkui/dist/vkui.css\";\nimport { transport } from \"./constants/config\";\nimport Home from \"./panels/Home\";\nimport { UserContext } from \"./context/UserContext\";\nimport { Country } from \"./panels/Transport Variant/Country\";\nimport { StopsList } from \"./panels/Transport Variant/Routes/Stops/StopsList\";\nimport { RoutesList } from \"./panels/Transport Variant/Routes/RoutesList\";\n\nconst App = () => {\n  const [activePanel, setActivePanel] = useState(\"home\");\n  const [fetchedUser, setUser] = useState(null);\n  const [popout, setPopout] = useState(<ScreenSpinner size=\"large\" />);\n  const [route, setRoute] = useState(\"\");\n  const [stops, setStops] = useState(\"\");\n  const [transportVar, setTransportVar] = useState(\"\");\n\n  console.log(route, stops, transportVar);\n  useEffect(() => {\n    bridge.subscribe(({ detail: { type, data } }) => {\n      if (type === \"VKWebAppUpdateConfig\") {\n        const schemeAttribute = document.createAttribute(\"scheme\");\n        schemeAttribute.value = data.scheme ? data.scheme : \"client_light\";\n        document.body.attributes.setNamedItem(schemeAttribute);\n      }\n    });\n    async function fetchData() {\n      const user = await bridge.send(\"VKWebAppGetUserInfo\");\n      setUser(user);\n      setPopout(null);\n    }\n    fetchData();\n  }, []);\n\n  const go = (e) => {\n    setActivePanel(e.currentTarget.dataset.to);\n  };\n  console.log(transport);\n  return (\n    <UserContext.Provider\n      value={{\n        fetchedUser,\n        transport,\n        route,\n        setRoute,\n        stops,\n        setStops,\n        transportVar,\n        setTransportVar,\n      }}\n    >\n      <View activePanel={activePanel} popout={popout}>\n        <Home\n          id=\"home\"\n          fetchedUser={fetchedUser}\n          transportVar={transportVar}\n          go={go}\n        />\n        <Country id=\"Country\" transportvar={transportVar} go={go} />\n        <RoutesList id=\"RoutesList\" route={route} go={go} />\n        <StopsList id=\"StopsList\" stops={stops} go={go} />\n      </View>\n    </UserContext.Provider>\n  );\n};\n\nexport default App;\n","import \"core-js/features/map\";\r\nimport \"core-js/features/set\";\r\nimport React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport bridge from \"@vkontakte/vk-bridge\";\r\nimport App from \"./App\";\r\n\r\n// Init VK  Mini App\r\nbridge.send(\"VKWebAppInit\");\r\n\r\nReactDOM.render(<App />, document.getElementById(\"root\"));\r\nif (process.env.NODE_ENV === \"development\") {\r\n  import(\"./eruda\").then(({ default: eruda }) => {}); //runtime download\r\n}\r\n"],"sourceRoot":""}