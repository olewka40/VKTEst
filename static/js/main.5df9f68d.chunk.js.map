{"version":3,"sources":["constants/config.js","context/UserContext.js","panels/Home.js","panels/BetweenCountry.js","panels/Country.js","panels/StopsList.js","panels/RoutesList.js","App.js","index.js"],"names":["transport","id","name","enName","variants","routes","halt","time","UserContext","React","createContext","osName","platform","Home","go","fetchedUser","useContext","left","onClick","data-to","IOS","title","before","photo_200","src","description","city","first_name","last_name","map","variant","StyledButton","size","level","styled","Button","BetweenCountry","toRoutes","el","Country","StopsList","RoutesList","setRoute","App","useState","activePanel","setActivePanel","setUser","popout","setPopout","route","setStops","useEffect","a","bridge","send","user","subscribe","detail","type","data","schemeAttribute","document","createAttribute","value","scheme","body","attributes","setNamedItem","fetchData","e","currentTarget","dataset","to","console","log","Provider","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.5df9f68d.chunk.js","sourcesContent":["export const transport = [\n  {\n    id: \"0\",\n    name: \"Междугородний транспорт\",\n    enName: \"BetweenCountry\",\n    variants: [\n      {\n        id: \"0\",\n        name: \"Калуга-Товарково\",\n        routes: [\n          {\n            id: 0,\n            name: \"5:17\",\n            halt: [\n              {\n                id: \"0\",\n                name: \"Калуга,автовокзал\",\n                time: \"5-17\",\n              },\n              {\n                id: \"1\",\n                name: \"Калуга, 6 школа\",\n                time: \"5-28\",\n              },\n              {\n                id: \"2\",\n                name: '\"Калуга-Бор\", санаторий',\n                time: \"5-30\",\n              },\n            ],\n          },\n          {\n            id: 1,\n            name: \"5:20\",\n            halt: [\n              {\n                id: \"0\",\n                name: \"Калуга,автовокзал\",\n                time: \"5-30\",\n              },\n              {\n                id: \"1\",\n                name: \"Калуга, 6 школа\",\n                time: \"5-33\",\n              },\n              {\n                id: \"2\",\n                name: '\"Лесная Сказка\", санаторий',\n                time: \"5-35\",\n              },\n              {\n                id: \"2\",\n                name: '\"Сокол\", санаторий',\n                time: \"5-36\",\n              },\n            ],\n          },\n        ],\n      },\n    ],\n  },\n  {\n    id: \"1\",\n    name: \"Городской транспорт\",\n    enName: \"Country\",\n    variants: [\n      {\n        id: \"0\",\n        name: \"29\",\n        routes: [\n          {\n            id: 0,\n            name: \"5:17\",\n            halt: [\n              {\n                id: \"0\",\n                name: \"Калуга,автовокзал\",\n                time: \"5-17\",\n              },\n              {\n                id: \"1\",\n                name: \"Калуга, 6 школа\",\n                time: \"5-28\",\n              },\n              {\n                id: \"2\",\n                name: \"Кошелев проект\",\n                time: \"6-00\",\n              },\n            ],\n          },\n        ],\n      },\n    ],\n  },\n];\n","import React from \"react\";\r\n\r\nexport const UserContext = React.createContext({});\r\n","import React, { useContext } from \"react\";\nimport PropTypes from \"prop-types\";\nimport Panel from \"@vkontakte/vkui/dist/components/Panel/Panel\";\nimport PanelHeader from \"@vkontakte/vkui/dist/components/PanelHeader/PanelHeader\";\nimport Button from \"@vkontakte/vkui/dist/components/Button/Button\";\nimport Group from \"@vkontakte/vkui/dist/components/Group/Group\";\nimport Cell from \"@vkontakte/vkui/dist/components/Cell/Cell\";\nimport Avatar from \"@vkontakte/vkui/dist/components/Avatar/Avatar\";\nimport { UserContext } from \"../context/UserContext\";\nimport styled from \"styled-components\";\nimport PanelHeaderButton from \"@vkontakte/vkui/dist/components/PanelHeaderButton/PanelHeaderButton\";\nimport Icon28ChevronBack from \"@vkontakte/icons/dist/28/chevron_back\";\nimport Icon24Back from \"@vkontakte/icons/dist/24/back\";\nimport { IOS, platform } from \"@vkontakte/vkui\";\nimport { transport } from \"../constants/config\";\n\nconst osName = platform();\n\nconst Home = ({ id, go }) => {\n  const { fetchedUser } = useContext(UserContext);\n\n  return (\n    <Panel id={id}>\n      <PanelHeader\n        left={\n          <PanelHeaderButton onClick={go} data-to=\"home\">\n            {osName === IOS ? <Icon28ChevronBack /> : <Icon24Back />}\n          </PanelHeaderButton>\n        }\n      >\n        Добро пожаловать в сервис <br />\n        мониторинга транспорта калуги\n      </PanelHeader>\n      {fetchedUser && (\n        <Group title=\"User Data Fetched with VK Bridge\">\n          <Cell\n            before={\n              fetchedUser.photo_200 ? (\n                <Avatar src={fetchedUser.photo_200} />\n              ) : null\n            }\n            description={\n              fetchedUser.city && fetchedUser.city.title\n                ? fetchedUser.city.title\n                : \"\"\n            }\n          >\n            {`${fetchedUser.first_name} ${fetchedUser.last_name} `}\n          </Cell>\n        </Group>\n      )}\n      <Group title=\"Navigation Example\">\n        {transport.map((variant) => (\n          <StyledButton\n            size=\"xl\"\n            level=\"2\"\n            onClick={go}\n            data-to={variant.enName}\n          >\n            {variant.name}\n          </StyledButton>\n        ))}\n      </Group>\n    </Panel>\n  );\n};\n\nHome.propTypes = {\n  id: PropTypes.string.isRequired,\n  go: PropTypes.func.isRequired,\n  fetchedUser: PropTypes.shape({\n    photo_200: PropTypes.string,\n    first_name: PropTypes.string,\n    last_name: PropTypes.string,\n    city: PropTypes.shape({\n      title: PropTypes.string,\n    }),\n  }),\n};\n\nexport default Home;\n\nexport const StyledButton = styled(Button)`\n  .Button {\n    margin-top: 10px;\n  }\n  margin: 5px 10px;\n  box-sizing: content-box;\n  width: 91.5%;\n  .Button--ios {\n    margin-top: 10px;\n  }\n`;\n","import Panel from \"@vkontakte/vkui/dist/components/Panel/Panel\";\nimport { PanelHeader } from \"@vkontakte/vkui\";\nimport React from \"react\";\n\nimport { IOS, platform } from \"@vkontakte/vkui\";\nimport PanelHeaderButton from \"@vkontakte/vkui/dist/components/PanelHeaderButton/PanelHeaderButton\";\nimport Icon28ChevronBack from \"@vkontakte/icons/dist/28/chevron_back\";\nimport Icon24Back from \"@vkontakte/icons/dist/24/back\";\nimport { transport } from \"../constants/config\";\nimport Button from \"@vkontakte/vkui/dist/components/Button/Button\";\n\nconst osName = platform();\n\nexport const BetweenCountry = ({ id, go }) => {\n  const toRoutes = () => {};\n  return (\n    <Panel id={id}>\n      <PanelHeader\n        left={\n          <PanelHeaderButton onClick={go} data-to=\"home\">\n            {osName === IOS ? <Icon28ChevronBack /> : <Icon24Back />}\n          </PanelHeaderButton>\n        }\n      >\n        Выберите маршрут междугороднего транспорта\n      </PanelHeader>\n\n      {transport[0].variants.map((el) => (\n        <Button onClick={toRoutes}>{el.name}</Button>\n      ))}\n    </Panel>\n  );\n};\n","import Panel from \"@vkontakte/vkui/dist/components/Panel/Panel\";\nimport PanelHeader from \"@vkontakte/vkui/dist/components/PanelHeader/PanelHeader\";\nimport React from \"react\";\nimport PanelHeaderButton from \"@vkontakte/vkui/dist/components/PanelHeaderButton/PanelHeaderButton\";\nimport Icon24Back from \"@vkontakte/icons/dist/24/back\";\nimport Icon28ChevronBack from \"@vkontakte/icons/dist/28/chevron_back\";\nimport { IOS, platform } from \"@vkontakte/vkui\";\nimport { transport } from \"../constants/config\";\nimport Button from \"@vkontakte/vkui/dist/components/Button/Button\";\n\nconst osName = platform();\n\nexport const Country = ({ id, go }) => {\n  const toRoutes = () => {};\n\n  return (\n    <Panel id={id}>\n      <PanelHeader\n        left={\n          <PanelHeaderButton onClick={go} data-to=\"home\">\n            {osName === IOS ? <Icon28ChevronBack /> : <Icon24Back />}\n          </PanelHeaderButton>\n        }\n      >\n        {\" \"}\n        Выберите маршрут городского транспорта\n      </PanelHeader>\n\n      {transport[1].variants.map((el) => (\n        <Button onClick={toRoutes}>{el.name}</Button>\n      ))}\n    </Panel>\n  );\n};\n","import Panel from \"@vkontakte/vkui/dist/components/Panel/Panel\";\r\nimport { PanelHeader } from \"@vkontakte/vkui\";\r\nimport React from \"react\";\r\n\r\nimport { IOS, platform } from \"@vkontakte/vkui\";\r\nimport PanelHeaderButton from \"@vkontakte/vkui/dist/components/PanelHeaderButton/PanelHeaderButton\";\r\nimport Icon28ChevronBack from \"@vkontakte/icons/dist/28/chevron_back\";\r\nimport Icon24Back from \"@vkontakte/icons/dist/24/back\";\r\nimport { transport } from \"../constants/config\";\r\nimport Button from \"@vkontakte/vkui/dist/components/Button/Button\";\r\n\r\nconst osName = platform();\r\n\r\nexport const StopsList = ({ id, go }) => {\r\n    const toRoutes = () => {};\r\n    return (\r\n        <Panel id={id}>\r\n            <PanelHeader\r\n                left={\r\n                    <PanelHeaderButton onClick={go} data-to=\"home\">\r\n                        {osName === IOS ? <Icon28ChevronBack /> : <Icon24Back />}\r\n                    </PanelHeaderButton>\r\n                }\r\n            >\r\n                Выберите маршрут междугороднего транспорта\r\n            </PanelHeader>\r\n\r\n\r\n        </Panel>\r\n    );\r\n};\r\n","import Panel from \"@vkontakte/vkui/dist/components/Panel/Panel\";\nimport { PanelHeader } from \"@vkontakte/vkui\";\nimport React, { useContext } from \"react\";\n\nimport { IOS, platform } from \"@vkontakte/vkui\";\nimport PanelHeaderButton from \"@vkontakte/vkui/dist/components/PanelHeaderButton/PanelHeaderButton\";\nimport Icon28ChevronBack from \"@vkontakte/icons/dist/28/chevron_back\";\nimport Icon24Back from \"@vkontakte/icons/dist/24/back\";\nimport { transport } from \"../constants/config\";\nimport Button from \"@vkontakte/vkui/dist/components/Button/Button\";\nimport { UserContext } from \"../context/UserContext\";\n\nconst osName = platform();\n\nexport const RoutesList = ({ id, go }) => {\n  const { setRoute } = useContext(UserContext);\n  const toRoutes = () => {\n    setRoute();\n    go();\n  };\n  return (\n    <Panel id={id}>\n      <PanelHeader\n        left={\n          <PanelHeaderButton onClick={go} data-to=\"home\">\n            {osName === IOS ? <Icon28ChevronBack /> : <Icon24Back />}\n          </PanelHeaderButton>\n        }\n      >\n        Выберите маршрут междугороднего транспорта\n      </PanelHeader>\n\n      {transport[1].variants.map((el) => (\n        <Button onClick={toRoutes(el.id)}>{el.name}</Button>\n      ))}\n    </Panel>\n  );\n};\n","import React, { useState, useEffect } from \"react\";\nimport bridge from \"@vkontakte/vk-bridge\";\nimport View from \"@vkontakte/vkui/dist/components/View/View\";\nimport ScreenSpinner from \"@vkontakte/vkui/dist/components/ScreenSpinner/ScreenSpinner\";\nimport \"@vkontakte/vkui/dist/vkui.css\";\nimport { transport } from \"../src/constants/config\";\nimport Home from \"./panels/Home\";\nimport { UserContext } from \"./context/UserContext\";\nimport { BetweenCountry } from \"./panels/BetweenCountry\";\nimport { Country } from \"./panels/Country\";\nimport { StopsList } from \"./panels/StopsList\";\nimport { RoutesList } from \"./panels/RoutesList\";\n\nconst App = () => {\n  const [activePanel, setActivePanel] = useState(\"home\");\n  const [fetchedUser, setUser] = useState(null);\n  const [popout, setPopout] = useState(<ScreenSpinner size=\"large\" />);\n  const [route, setRoute] = useState(\"\");\n  const [stops, setStops] = useState(\"\");\n\n  useEffect(() => {\n    bridge.subscribe(({ detail: { type, data } }) => {\n      if (type === \"VKWebAppUpdateConfig\") {\n        const schemeAttribute = document.createAttribute(\"scheme\");\n        schemeAttribute.value = data.scheme ? data.scheme : \"client_light\";\n        document.body.attributes.setNamedItem(schemeAttribute);\n      }\n    });\n    async function fetchData() {\n      const user = await bridge.send(\"VKWebAppGetUserInfo\");\n      setUser(user);\n      setPopout(null);\n    }\n    fetchData();\n  }, []);\n\n  const go = (e) => {\n    setActivePanel(e.currentTarget.dataset.to);\n  };\n  console.log(transport);\n  return (\n    <UserContext.Provider\n      value={{ fetchedUser, transport, setRoute, setStops }}\n    >\n      <View activePanel={activePanel} popout={popout}>\n        <Home id=\"home\" fetchedUser={fetchedUser} go={go} />\n        <Country id=\"Country\" go={go} />\n        <BetweenCountry id=\"BetweenCountry\" go={go} />\n        <RoutesList id=\"RoutesList\" route={route} go={go} />\n        <StopsList id=\"StopsList\" go={go} />\n        <BetweenCountry id=\"BetweenCountry\" go={go} />\n      </View>\n    </UserContext.Provider>\n  );\n};\n\nexport default App;\n","import \"core-js/features/map\";\r\nimport \"core-js/features/set\";\r\nimport React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport bridge from \"@vkontakte/vk-bridge\";\r\nimport App from \"./App\";\r\n\r\n// Init VK  Mini App\r\nbridge.send(\"VKWebAppInit\");\r\n\r\nReactDOM.render(<App />, document.getElementById(\"root\"));\r\nif (process.env.NODE_ENV === \"development\") {\r\n  import(\"./eruda\").then(({ default: eruda }) => {}); //runtime download\r\n}\r\n"],"sourceRoot":""}