{"version":3,"sources":["context/UserContext.js","panels/Home.js","panels/BetweenCountry.js","panels/Country.js","App.js","index.js"],"names":["UserContext","React","createContext","osName","platform","Home","id","go","fetchedUser","useContext","left","onClick","data-to","IOS","title","before","photo_200","src","description","city","first_name","last_name","StyledButton","size","level","styled","Button","BetweenCountry","Country","App","useState","activePanel","setActivePanel","setUser","popout","setPopout","useEffect","a","bridge","send","user","subscribe","detail","type","data","schemeAttribute","document","createAttribute","value","scheme","body","attributes","setNamedItem","fetchData","e","currentTarget","dataset","to","Provider","ReactDOM","render","getElementById"],"mappings":"0qBAEaA,EAAcC,IAAMC,cAAc,I,oECazCC,EAASC,cA2DAC,EAzDF,SAAC,GAAgB,IAAdC,EAAa,EAAbA,GAAIC,EAAS,EAATA,GACVC,EAAgBC,qBAAWT,GAA3BQ,YAER,OACE,kBAAC,IAAD,CAAOF,GAAIA,GACT,kBAAC,IAAD,CACEI,KACE,kBAAC,IAAD,CAAmBC,QAASJ,EAAIK,UAAQ,QACrCT,IAAWU,IAAM,kBAAC,IAAD,MAAwB,kBAAC,IAAD,QAHhD,gTASCL,GACC,kBAAC,IAAD,CAAOM,MAAM,oCACX,kBAAC,IAAD,CACEC,OACEP,EAAYQ,UACV,kBAAC,IAAD,CAAQC,IAAKT,EAAYQ,YACvB,KAENE,YACEV,EAAYW,MAAQX,EAAYW,KAAKL,MACjCN,EAAYW,KAAKL,MACjB,IATR,UAYMN,EAAYY,WAZlB,YAYgCZ,EAAYa,UAZ5C,OAgBJ,kBAAC,IAAD,CAAOP,MAAM,sBACX,kBAACQ,EAAD,CAAcC,KAAK,KAAKC,MAAM,IAAIb,QAASJ,EAAIK,UAAQ,WAAvD,iHAEgB,IAChB,kBAACU,EAAD,CAAcC,KAAK,KAAKC,MAAM,IAAIb,QAASJ,EAAIK,UAAQ,kBAAvD,4IAuBKU,EAAeG,YAAOC,IAAPD,CAAH,mHCnEnBtB,EAASC,cAEFuB,EAAiB,SAAC,GAAgB,IAAdrB,EAAa,EAAbA,GAAIC,EAAS,EAATA,GACnC,OACE,kBAAC,IAAD,CAAOD,GAAIA,GACT,kBAAC,IAAD,CACEI,KACE,kBAAC,IAAD,CAAmBC,QAASJ,EAAIK,UAAQ,QACrCT,IAAWU,IAAM,kBAAC,IAAD,MAAwB,kBAAC,IAAD,QAHhD,mPCNAV,EAASC,cAEFwB,EAAU,SAAC,GAAgB,IAAdtB,EAAa,EAAbA,GAAIC,EAAS,EAATA,GAC5B,OACE,kBAAC,IAAD,CAAOD,GAAIA,GACT,kBAAC,IAAD,CACEI,KACE,kBAAC,IAAD,CAAmBC,QAASJ,EAAIK,UAAQ,QACrCT,IAAWU,IAAM,kBAAC,IAAD,MAAwB,kBAAC,IAAD,QAI7C,IAPH,2NCkCSgB,EApCH,WAAO,IAAD,EACsBC,mBAAS,QAD/B,mBACTC,EADS,KACIC,EADJ,OAEeF,mBAAS,MAFxB,mBAETtB,EAFS,KAEIyB,EAFJ,OAGYH,mBAAS,kBAAC,IAAD,CAAeP,KAAK,WAHzC,mBAGTW,EAHS,KAGDC,EAHC,KAKhBC,qBAAU,WAAM,4CAQd,4BAAAC,EAAA,sEACqBC,IAAOC,KAAK,uBADjC,OACQC,EADR,OAEEP,EAAQO,GACRL,EAAU,MAHZ,4CARc,sBACdG,IAAOG,WAAU,YAAiC,IAAD,IAA7BC,OAAUC,EAAmB,EAAnBA,KAAMC,EAAa,EAAbA,KAClC,GAAa,yBAATD,EAAiC,CACnC,IAAME,EAAkBC,SAASC,gBAAgB,UACjDF,EAAgBG,MAAQJ,EAAKK,OAASL,EAAKK,OAAS,eACpDH,SAASI,KAAKC,WAAWC,aAAaP,OAL5B,mCAadQ,KACC,IAEH,IAAM9C,EAAK,SAAC+C,GACVtB,EAAesB,EAAEC,cAAcC,QAAQC,KAGzC,OACE,kBAACzD,EAAY0D,SAAb,CAAsBV,MAAO,CAAExC,gBAC7B,kBAAC,IAAD,CAAMuB,YAAaA,EAAaG,OAAQA,GACtC,kBAAC,EAAD,CAAM5B,GAAG,OAAOE,YAAaA,EAAaD,GAAIA,IAC9C,kBAAC,EAAD,CAASD,GAAG,UAAUC,GAAIA,IAC1B,kBAAC,EAAD,CAAgBD,GAAG,iBAAiBC,GAAIA,OCjChD+B,IAAOC,KAAK,gBAEZoB,IAASC,OAAO,kBAAC,EAAD,MAASd,SAASe,eAAe,W","file":"static/js/main.9f06104d.chunk.js","sourcesContent":["import React from \"react\";\r\n\r\nexport const UserContext = React.createContext({});\r\n","import React, { useContext } from \"react\";\nimport PropTypes from \"prop-types\";\nimport Panel from \"@vkontakte/vkui/dist/components/Panel/Panel\";\nimport PanelHeader from \"@vkontakte/vkui/dist/components/PanelHeader/PanelHeader\";\nimport Button from \"@vkontakte/vkui/dist/components/Button/Button\";\nimport Group from \"@vkontakte/vkui/dist/components/Group/Group\";\nimport Cell from \"@vkontakte/vkui/dist/components/Cell/Cell\";\nimport Avatar from \"@vkontakte/vkui/dist/components/Avatar/Avatar\";\nimport { UserContext } from \"../context/UserContext\";\nimport styled from \"styled-components\";\nimport PanelHeaderButton from \"@vkontakte/vkui/dist/components/PanelHeaderButton/PanelHeaderButton\";\nimport Icon28ChevronBack from \"@vkontakte/icons/dist/28/chevron_back\";\nimport Icon24Back from \"@vkontakte/icons/dist/24/back\";\nimport { IOS, platform } from \"@vkontakte/vkui\";\n\nconst osName = platform();\n\nconst Home = ({ id, go }) => {\n  const { fetchedUser } = useContext(UserContext);\n\n  return (\n    <Panel id={id}>\n      <PanelHeader\n        left={\n          <PanelHeaderButton onClick={go} data-to=\"home\">\n            {osName === IOS ? <Icon28ChevronBack /> : <Icon24Back />}\n          </PanelHeaderButton>\n        }\n      >\n        Добро пожаловать в сервис мониторинга транспорта калуги\n      </PanelHeader>\n      {fetchedUser && (\n        <Group title=\"User Data Fetched with VK Bridge\">\n          <Cell\n            before={\n              fetchedUser.photo_200 ? (\n                <Avatar src={fetchedUser.photo_200} />\n              ) : null\n            }\n            description={\n              fetchedUser.city && fetchedUser.city.title\n                ? fetchedUser.city.title\n                : \"\"\n            }\n          >\n            {`${fetchedUser.first_name} ${fetchedUser.last_name} `}\n          </Cell>\n        </Group>\n      )}\n      <Group title=\"Navigation Example\">\n        <StyledButton size=\"xl\" level=\"2\" onClick={go} data-to=\"Country\">\n          Городской транспорт\n        </StyledButton>{\" \"}\n        <StyledButton size=\"xl\" level=\"2\" onClick={go} data-to=\"BetweenCountry\">\n          Междугородний транспорт\n        </StyledButton>\n      </Group>\n    </Panel>\n  );\n};\n\nHome.propTypes = {\n  id: PropTypes.string.isRequired,\n  go: PropTypes.func.isRequired,\n  fetchedUser: PropTypes.shape({\n    photo_200: PropTypes.string,\n    first_name: PropTypes.string,\n    last_name: PropTypes.string,\n    city: PropTypes.shape({\n      title: PropTypes.string,\n    }),\n  }),\n};\n\nexport default Home;\n\nexport const StyledButton = styled(Button)`\n  .Button {\n    margin-top: 10px;\n  }\n  .Button--ios {\n    margin-top: 10px;\n  }\n`;\n","import Panel from \"@vkontakte/vkui/dist/components/Panel/Panel\";\nimport PanelHeader from \"@vkontakte/vkui/dist/components/PanelHeader/PanelHeader\";\nimport React from \"react\";\n\nimport {IOS, platform} from \"@vkontakte/vkui\";\nimport PanelHeaderButton from \"@vkontakte/vkui/dist/components/PanelHeaderButton/PanelHeaderButton\";\nimport Icon28ChevronBack from \"@vkontakte/icons/dist/28/chevron_back\";\nimport Icon24Back from \"@vkontakte/icons/dist/24/back\";\n\nconst osName = platform();\n\nexport const BetweenCountry = ({ id, go }) => {\n  return (\n    <Panel id={id}>\n      <PanelHeader\n        left={\n          <PanelHeaderButton onClick={go} data-to=\"home\">\n            {osName === IOS ? <Icon28ChevronBack /> : <Icon24Back />}\n          </PanelHeaderButton>\n        }\n      >\n        Выберите маршрут междугороднего транспорта\n      </PanelHeader>\n    </Panel>\n  );\n};\n","import Panel from \"@vkontakte/vkui/dist/components/Panel/Panel\";\nimport PanelHeader from \"@vkontakte/vkui/dist/components/PanelHeader/PanelHeader\";\nimport React from \"react\";\nimport PanelHeaderButton from \"@vkontakte/vkui/dist/components/PanelHeaderButton/PanelHeaderButton\";\nimport Icon24Back from \"@vkontakte/icons/dist/24/back\";\nimport Icon28ChevronBack from \"@vkontakte/icons/dist/28/chevron_back\";\nimport { IOS, platform } from \"@vkontakte/vkui\";\n\nconst osName = platform();\n\nexport const Country = ({ id, go }) => {\n  return (\n    <Panel id={id}>\n      <PanelHeader\n        left={\n          <PanelHeaderButton onClick={go} data-to=\"home\">\n            {osName === IOS ? <Icon28ChevronBack /> : <Icon24Back />}\n          </PanelHeaderButton>\n        }\n      >\n        {\" \"}\n        Выберите маршрут городского транспорта\n      </PanelHeader>\n    </Panel>\n  );\n};\n","import React, { useState, useEffect } from \"react\";\nimport bridge from \"@vkontakte/vk-bridge\";\nimport View from \"@vkontakte/vkui/dist/components/View/View\";\nimport ScreenSpinner from \"@vkontakte/vkui/dist/components/ScreenSpinner/ScreenSpinner\";\nimport \"@vkontakte/vkui/dist/vkui.css\";\n\nimport Home from \"./panels/Home\";\nimport { UserContext } from \"./context/UserContext\";\nimport { BetweenCountry } from \"./panels/BetweenCountry\";\nimport { Country } from \"./panels/Country\";\n\nconst App = () => {\n  const [activePanel, setActivePanel] = useState(\"home\");\n  const [fetchedUser, setUser] = useState(null);\n  const [popout, setPopout] = useState(<ScreenSpinner size=\"large\" />);\n\n  useEffect(() => {\n    bridge.subscribe(({ detail: { type, data } }) => {\n      if (type === \"VKWebAppUpdateConfig\") {\n        const schemeAttribute = document.createAttribute(\"scheme\");\n        schemeAttribute.value = data.scheme ? data.scheme : \"client_light\";\n        document.body.attributes.setNamedItem(schemeAttribute);\n      }\n    });\n    async function fetchData() {\n      const user = await bridge.send(\"VKWebAppGetUserInfo\");\n      setUser(user);\n      setPopout(null);\n    }\n    fetchData();\n  }, []);\n\n  const go = (e) => {\n    setActivePanel(e.currentTarget.dataset.to);\n  };\n\n  return (\n    <UserContext.Provider value={{ fetchedUser }}>\n      <View activePanel={activePanel} popout={popout}>\n        <Home id=\"home\" fetchedUser={fetchedUser} go={go} />\n        <Country id=\"Country\" go={go} />\n        <BetweenCountry id=\"BetweenCountry\" go={go} />\n      </View>\n    </UserContext.Provider>\n  );\n};\n\nexport default App;\n","import \"core-js/features/map\";\r\nimport \"core-js/features/set\";\r\nimport React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport bridge from \"@vkontakte/vk-bridge\";\r\nimport App from \"./App\";\r\n\r\n// Init VK  Mini App\r\nbridge.send(\"VKWebAppInit\");\r\n\r\nReactDOM.render(<App />, document.getElementById(\"root\"));\r\nif (process.env.NODE_ENV === \"development\") {\r\n  import(\"./eruda\").then(({ default: eruda }) => {}); //runtime download\r\n}\r\n"],"sourceRoot":""}